import{_ as v,M as y,r as g,o as n,c as i,w as C,v as P,a as m,b as e,F as h,d as p,e as $,t as r,p as S,f as q,g as D}from"./index-76e79f46.js";const k={name:"Dashboard",components:{Message:y},data(){return{burgers:null,burger_id:null,msg:null,opcionais:[],status:[]}},methods:{async getPedidos(){const s=await(await fetch("http://localhost:3000/burgers")).json();this.burgers=s},async getStatus(){const s=await(await fetch("http://localhost:3000/status")).json();this.status=s,console.log(s)},async deleteBurger(t){await(await fetch(`http://localhost:3000/burgers/${t}`,{method:"DELETE"})).json(),this.msg="Pedido cancelado",setTimeout(()=>this.msg="",3e3),this.getPedidos()},async updateBurger(t,s){const l=t.target.value,u=JSON.stringify({status:l}),c=await(await fetch(`http://localhost:3000/burgers/${s}`,{method:"PATCH",headers:{"Content-type":"application/json"},body:u})).json();this.msg=`Pedido N°${c.id} foi alterado para ${c.status}`,setTimeout(()=>this.msg="",3e3),console.log(c)}},mounted(){this.getPedidos(),this.getStatus()}},f=t=>(S("data-v-014af0f4"),t=t(),q(),t),x={id:"burger-table"},B=f(()=>e("div",{id:"burger-table-heading"},[e("div",{class:"order-id"},"#:"),e("div",null,"Cliente:"),e("div",null,"Pão:"),e("div",null,"Carne:"),e("div",null,"Opcionais:"),e("div",null,"Ações:")],-1)),j={id:"burger-table-rows"},N={id:"burger-table-rows"},T=["onChange"],E=f(()=>e("option",{value:""},"Selecione",-1)),I=["value","selected"],M=["onClick"];function V(t,s,l,u,d,c){const _=g("Message"),b=g("di");return n(),i("div",x,[C(m(_,{msg:d.msg},null,8,["msg"]),[[P,d.msg]]),e("div",null,[B,e("div",j,[e("div",N,[(n(!0),i(h,null,p(d.burgers,a=>(n(),i("div",{class:"burger-table-row",key:a.id},[m(b,{class:"order-number"},{default:$(()=>[D(r(a.id),1)]),_:2},1024),e("div",null,r(a.nome),1),e("div",null,r(a.pao),1),e("div",null,r(a.carne),1),e("div",null,[e("ul",null,[(n(!0),i(h,null,p(a.opcionais,(o,w)=>(n(),i("li",{key:w},r(o),1))),128))])]),e("select",{name:"status",class:"status",onChange:o=>c.updateBurger(o,a.id)},[E,(n(!0),i(h,null,p(d.status,o=>(n(),i("option",{key:o.id,value:o.tipo,selected:d.burgers.status==o.tipo},r(o.tipo),9,I))),128))],40,T),e("button",{class:"delete-btn",onClick:o=>c.deleteBurger(a.id)},"Cancelar",8,M)]))),128))])])])])}const A=v(k,[["render",V],["__scopeId","data-v-014af0f4"]]),F={name:"Pedidos",components:{Dashboard:A}},J={class:"main-container"},L=e("h1",null,"Pedidos",-1);function O(t,s,l,u,d,c){const _=g("Dashboard");return n(),i("div",J,[L,m(_)])}const z=v(F,[["render",O]]);export{z as default};
